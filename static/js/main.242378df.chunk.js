(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{205:function(e,t,a){e.exports=a(432)},429:function(e,t,a){},432:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(13),l=a.n(c),o=a(127),s=a(202),i=a(49),m=a(50),d=a.n(m),u=a(66),p=a(44),h=a(45),E=a(47),g=a(46),f=a(48),y=a(128),v=a(434),C=function(){return r.a.createElement("div",{id:"app-header"},r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light",id:"navbar"},r.a.createElement("div",{className:"container"},r.a.createElement("a",{className:"navbar-brand mr-2",href:"https://windingtree.com/"},"Winding Tree"),r.a.createElement("a",{className:"nav-link",href:"/"},"Home"))))},b=a(11),D=function(){return r.a.createElement(b.Footer,{copyrightHref:"https://windingtree.com",copyrightText:"Winding Tree"},r.a.createElement("div",{className:"col-6 col-md-3"},r.a.createElement("dl",{className:"mb-1"},r.a.createElement("dt",{className:"mb-1"},"About"),r.a.createElement("dd",null,r.a.createElement("nav",{className:"nav flex-column small"},r.a.createElement("a",{href:"https://windingtree.com",className:"nav-link px-0 text-white text--alpha-inverse"},"Homepage"),r.a.createElement("a",{href:"https://blog.windingtree.com/",className:"nav-link px-0 text-white text--alpha-inverse"},"Blog"),r.a.createElement("a",{href:"https://developers.windingtree.com",className:"nav-link px-0 text-white text--alpha-inverse"},"Developer portal"))))),r.a.createElement("div",{className:"col-6 col-md-3"},r.a.createElement("dl",{className:"mb-1"},r.a.createElement("dt",{className:"mb-1"},"Developers"),r.a.createElement("dd",null,r.a.createElement("nav",{className:"nav flex-column small"},r.a.createElement("a",{href:"https://github.com/windingtree/orgid-explorer",className:"nav-link px-0 text-white text--alpha-inverse"},"Source code"),r.a.createElement("a",{href:"https://github.com/windingtree",className:"nav-link px-0 text-white text--alpha-inverse"},"GitHub"),r.a.createElement("a",{href:"https://groups.google.com/forum/#!forum/windingtree",className:"nav-link px-0 text-white text--alpha-inverse"},"Google Group"))))))},N=function(e){var t=e.value,a=e.onChange;return r.a.createElement(b.Container,{className:"mb-1"},r.a.createElement(b.Form,null,r.a.createElement(b.Row,null,r.a.createElement(b.Col,null,r.a.createElement(b.Form.Control,{placeholder:"ORG.ID Address",type:"text",onChange:a,value:t})),r.a.createElement(b.Col,{md:1,className:"mr-1"},r.a.createElement(b.Button,{variant:"primary",type:"submit",href:"/orgid/".concat(t)},"GO")))))},x=a(130),w=a.n(x),O=["HOTELS","AIRLINES","OTAs"],j=(a(424),function(e){function t(){return Object(p.a)(this,t),Object(E.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props,t=e.startDate,a=e.endDate,n=e.onStartDateChange,c=e.onEndDateChange,l=e.onDirectoryChange,o=e.selectedDirectory,s=e.onApply,i=e.onLocationChange;return r.a.createElement(b.Container,{className:"mt-1"},r.a.createElement(b.Form,null,r.a.createElement(b.Row,null,r.a.createElement(b.Col,{md:3,className:"align-self-center font-weight-bold"},"List by directory:"),r.a.createElement(b.Col,{md:2,className:"align-self-center"},r.a.createElement(b.Dropdown,{onSelect:l},r.a.createElement(b.Dropdown.Toggle,{variant:"light",id:"dropdown-basic"},o),r.a.createElement(b.Dropdown.Menu,null,O.map(function(e){return r.a.createElement(b.Dropdown.Item,{key:e,eventKey:e},e)}))))),r.a.createElement(b.Row,{className:"mt-1"},r.a.createElement(b.Col,{className:"align-self-center font-weight-bold"},"Filter List"),r.a.createElement(b.Col,{md:3,className:"align-self-center"},r.a.createElement(b.Form.Control,{onChange:i,placeholder:"-38.016853,-57.525316",type:"text"})),r.a.createElement(b.Col,{className:"align-self-center text-right"},"Creation date"),r.a.createElement(b.Col,{className:"align-self-center"},r.a.createElement(w.a,{selected:t,onChange:n})),r.a.createElement(b.Col,{className:"align-self-center"},r.a.createElement(w.a,{selected:a,onChange:c})),r.a.createElement(b.Col,{md:2,className:"align-self-center"},r.a.createElement(b.Button,{onClick:s,variant:"secondry",type:"submit",block:!0},"Apply")))))}}]),t}(n.Component)),k=[{display:"ORG.ID",fieldName:"address"},{display:"company",fieldName:"name"},{display:"location",fieldName:"city"},{display:"directory",fieldName:"segments"},{display:"created",fieldName:"dateCreated"}],I=(a(425),a(79)),S=a.n(I),A={API_URI:"https://explorer-cache.myorgid.com"},R=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(E.a)(this,Object(g.a)(t).call(this,e))).onStartDateChange=function(e){a.setState({startDate:e})},a.onEndDateChange=function(e){a.setState({endDate:e})},a.onDirectoryChange=function(e){a.setState({selectedDirectory:e})},a.onApply=function(){var e=Object(u.a)(d.a.mark(function e(t){var n,r,c,l,o,s,i,m,u,p,h,E;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=a.state,r=n.selectedDirectory,c=n.startDate,l=n.endDate,o=n.sortOrder,s=n.sortName,i=n.location,m="",m+="segments=".concat(r.toLocaleLowerCase()),m+=c?"&dateCreatedFrom=".concat(Object(v.default)(c,"yyyy-MM-dd")):"",m+=l?"&dateCreatedTo=".concat(Object(v.default)(l,"yyyy-MM-dd")):"",m+=i?"&location=".concat(i,":200&sortByDistance=").concat(i):"",m+=!i&&o&&s?"&sortingField=".concat("desc"===o?"-":"").concat(s):"",e.prev=8,e.next=11,fetch("".concat(A.API_URI,"/organizations?").concat(m));case 11:return u=e.sent,e.next=14,u.json();case 14:p=e.sent,h=p.items,E=h.map(function(e){return{address:e.address,name:e.name,city:e.city,segments:e.segments,dateCreated:e.dateCreated}}),a.setState({organizationsData:E}),e.next=22;break;case 20:e.prev=20,e.t0=e.catch(8);case 22:case"end":return e.stop()}},e,null,[[8,20]])}));return function(t){return e.apply(this,arguments)}}(),a.onSortChange=function(e,t){a.setState({sortName:e,sortOrder:t})},a.onInputChange=function(e){a.setState({inputValue:e.target.value})},a.onLocationChange=function(e){a.setState({location:e.target.value})},a.state={inputValue:"",startDate:new Date(2019,0,1),endDate:new Date(Date.now()),selectedDirectory:"HOTELS",organizationsData:[]},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=Object(u.a)(d.a.mark(function e(){var t,a,n,r;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(A.API_URI,"/organizations"));case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,n=a.items,r=n.map(function(e){return{address:e.address,name:e.name,city:e.city,segments:e.segments,dateCreated:e.dateCreated}}),this.setState({organizationsData:r}),e.next=14;break;case 12:e.prev=12,e.t0=e.catch(0);case 14:case"end":return e.stop()}},e,this,[[0,12]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.startDate,a=e.endDate,n=e.selectedDirectory,c=e.organizationsData,l=e.inputValue,o={sortName:this.state.sortName,sortOrder:this.state.sortOrder,onSortChange:this.onSortChange,noDataText:"No data to display"};return r.a.createElement(r.a.Fragment,null,r.a.createElement(C,null),r.a.createElement(S.a,{className:"mt-1"},r.a.createElement("h2",{className:"text-center"},"Org.Id explorer")),r.a.createElement(N,{value:l,onChange:this.onInputChange}),r.a.createElement(j,{startDate:t,endDate:a,selectedDirectory:n,onStartDateChange:this.onStartDateChange,onEndDateChange:this.onEndDateChange,onDirectoryChange:this.onDirectoryChange,onApply:this.onApply,onLocationChange:this.onLocationChange}),r.a.createElement(S.a,{className:"my-1"},r.a.createElement(y.BootstrapTable,{ref:"table",options:o,data:c,version:"4",striped:!0,hover:!0,pagination:!0},k.map(function(e){var t=e.display,a=e.fieldName;return r.a.createElement(y.TableHeaderColumn,{isKey:"address"===a,dataField:a,key:a,dataSort:!0},t)}))),r.a.createElement(D,null))}}]),t}(n.Component),T=a(441),F=a(440),U=a(437),z=a(439),G=(a(426),a(22)),L=a.n(G),M=a(199),B=a.n(M),H=a(200),V=a.n(H),P=a(201),_=a.n(P),J=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(E.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={zoom:16},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props,t=e.orgData,a=e.location,n=void 0===a?{latitude:0,longitude:0}:a,c=this.state.zoom,l=[n.latitude,n.longitude],o="Address not provided";return t&&(o=t.description?t.description.name:t.name),delete L.a.Icon.Default.prototype._getIconUrl,L.a.Icon.Default.mergeOptions({iconRetinaUrl:B.a,iconUrl:V.a,shadowUrl:_.a}),r.a.createElement(b.Container,{className:"h-100"},r.a.createElement(T.a,{center:l,zoom:c,className:"h-100"},r.a.createElement(F.a,{attribution:'\xa9 <a href="https://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.osm.org/{z}/{x}/{y}.png"}),r.a.createElement(U.a,{position:l},r.a.createElement(z.a,null,r.a.createElement("div",{className:"map-popup"},r.a.createElement("h4",null,o))))))}}]),t}(r.a.PureComponent),W=a(438),K=function(e){var t=e.id;return r.a.createElement("div",{className:"align-self-center text-center"},r.a.createElement("h3",null,"ORG.ID ",t," not found"),r.a.createElement("h4",null,"IF you just cretead an new ORG.ID, have in mind that scraping task is scheduled at 2am and 2pm GMT."))},q=function(e){var t=e.directory,a=e.id,n=e.created,c=e.updated;if(!n)return r.a.createElement(K,{id:a});var l=new Date;return r.a.createElement("div",{className:"align-self-center text-center"},r.a.createElement("h4",null,"ORG.ID in ",t," directory"),r.a.createElement("h3",null,a),r.a.createElement("p",null,"Created ",Object(W.a)(new Date(n),l),"     Updated ",Object(W.a)(new Date(c),l)," "))},Q=function(e){var t=e.orgData,a=e.name,n=t.address,c=t.city,l=t.countryCode,o=t.website,s=t.description;return s?r.a.createElement(b.Container,{className:"my-1"},r.a.createElement("h2",null,s.name),r.a.createElement("p",null,s.address.line1," ",s.address.line2),r.a.createElement("p",null," ",s.address.city," ",s.address.state," ",s.address.countryCode),r.a.createElement("a",{href:"".concat(o)},o)):r.a.createElement(b.Container,{className:"my-1"},r.a.createElement("h2",null,a),n||c||l?r.a.createElement("p",null,n," ",c," ",l):r.a.createElement("p",null,"Address not provided"),o?r.a.createElement("a",{href:"".concat(o)},o):r.a.createElement("p",null,"Website not provided"))},X=a(203),Y=function(e){var t=e.name,a=e.address,n=a.city,c=a.countryCode,l=a.houseNumber,o=a.road,s=e.contact,i=e.id;return r.a.createElement(b.Container,null,r.a.createElement("h2",null,"Owner:"),r.a.createElement("p",null,t),r.a.createElement("p",null,o," ",l," ",n," ",c),i?r.a.createElement("a",{href:"/orgid/".concat(i)},i):null,Object.entries(s).map(function(e){var t=Object(X.a)(e,2),a=t[0],n=t[1];return r.a.createElement("p",{key:a},a,": ",n)}))},Z=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(E.a)(this,Object(g.a)(t).call(this,e))).onInputChange=function(e){a.setState({inputValue:e.target.value})},a.state={inputValue:""},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=Object(u.a)(d.a.mark(function e(){var t,a,n,r,c,l,o,s,i,m,u,p,h,E;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.id,e.prev=1,e.next=4,fetch("".concat(A.API_URI,"/organizations/").concat(t));case 4:if(404!==(a=e.sent).status){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,a.json();case 9:n=e.sent,r=n.segments,c=n.dateCreated,l=n.dateUpdated,o=n.orgJsonContent,s=n.owner,i=n.name,m=o.hotel,u=o.legalEntity,p=o.airline,E=(h=m||p)&&(h.location||h.description&&h.description.location),this.setState({segments:r,dateCreated:c,dateUpdated:l,orgData:h,legalEntity:u,owner:s,name:i,location:E}),e.next=19;break;case 17:e.prev=17,e.t0=e.catch(1);case 19:case"end":return e.stop()}},e,this,[[1,17]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.orgData,a=e.legalEntity,n=e.segments,c=e.dateCreated,l=e.dateUpdated,o=e.inputValue,s=e.owner,i=e.name,m=e.location,d=this.props.match.params.id;return r.a.createElement(r.a.Fragment,null,r.a.createElement(C,null),r.a.createElement(b.Container,{className:"mt-1"},r.a.createElement("h2",{className:"text-center"},"Org.Id explorer")),r.a.createElement(N,{value:o,onChange:this.onInputChange}),r.a.createElement(b.Container,{className:"my-1"},r.a.createElement(b.Row,{className:"align-self-center"},r.a.createElement(b.Col,{className:"align-self-center"},r.a.createElement(q,{directory:n,id:d,created:c,updated:l}))),c?r.a.createElement(b.Row,{className:"my-1"},r.a.createElement(b.Col,{md:6,sm:12},t?r.a.createElement(Q,{orgData:t,name:i}):null,a?r.a.createElement(Y,{name:a.name,address:a.address,city:a.city,countryCode:a.countryCode,contact:a.contact,id:s}):null),r.a.createElement(b.Col,{md:6,sm:12},r.a.createElement(J,{orgData:t,location:m}))):null),r.a.createElement(D,null))}}]),t}(n.Component),$=function(){return r.a.createElement("main",{id:"app-content",className:"content-error bg-grad-up"},r.a.createElement("article",{className:"app-section d-flex align-items-center"},r.a.createElement(b.Container,null,r.a.createElement("div",{className:"py-1 py-md-5 text-center"},r.a.createElement("h1",{className:"mb-1 text-white"},"Oops... 404"),r.a.createElement("p",{className:"mb-2 lead text-white"},"That is not the page you are looking for."),r.a.createElement(b.Button,{href:"/",variant:"primary"},"Go to main")))))},ee=function(){return r.a.createElement(i.d,null,r.a.createElement(i.b,{path:["/orgid/:id"],exact:!0,component:Z}),r.a.createElement(i.a,{exact:!0,from:"/orgid",to:"/"}),r.a.createElement(i.b,{path:"/",exact:!0,component:R}),r.a.createElement(i.b,{component:$}))};a(428),a(429);!function(e){l.a.render;(0,l.a.hydrate)(r.a.createElement(s.AppContainer,null,r.a.createElement(o.a,{basename:"/orgid-explorer"},r.a.createElement(e,null))),document.getElementById("root"))}(ee,document.getElementById("root"))}},[[205,1,2]]]);
//# sourceMappingURL=main.242378df.chunk.js.map