(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{204:function(e,t,a){e.exports={"fixedh-300":"List_fixedh-300__1kbhU"}},208:function(e,t,a){e.exports=a(436)},433:function(e,t,a){},436:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(13),o=a.n(c),l=a(65),i=a(205),s=a(51),m=a(39),d=a.n(m),u=a(62),p=a(45),h=a(46),g=a(49),E=a(47),f=a(50),v=a(96),y=a(438),C=a(427),b=a(48),N=a(11),k=function(){return r.a.createElement("div",{id:"app-header"},r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light",id:"navbar"},r.a.createElement("div",{className:"container"},r.a.createElement("a",{className:"navbar-brand mr-2",href:"https://windingtree.com/"},"Winding Tree"),r.a.createElement("a",{href:"https://windingtree.com/",className:"nav-link",target:"_blank",rel:"noopener noreferrer"},"Winding Tree website"),r.a.createElement("a",{href:"https://developers.windingtree.com/overview.html#orgid",className:"nav-link",target:"_blank",rel:"noopener noreferrer"},"About ORG.ID"),r.a.createElement(b.LinkContainer,{to:"/"},r.a.createElement("a",{className:"nav-link"},"List")))))},x=function(){return r.a.createElement(N.Footer,{copyrightHref:"https://windingtree.com",copyrightText:"Winding Tree"},r.a.createElement("div",{className:"col-6 col-md-3"},r.a.createElement("dl",{className:"mb-1"},r.a.createElement("dt",{className:"mb-1"},"About"),r.a.createElement("dd",null,r.a.createElement("nav",{className:"nav flex-column small"},r.a.createElement("a",{href:"https://windingtree.com",className:"nav-link px-0 text-white text--alpha-inverse"},"Homepage"),r.a.createElement("a",{href:"https://blog.windingtree.com/",className:"nav-link px-0 text-white text--alpha-inverse"},"Blog"),r.a.createElement("a",{href:"https://developers.windingtree.com",className:"nav-link px-0 text-white text--alpha-inverse"},"Developer portal"))))),r.a.createElement("div",{className:"col-6 col-md-3"},r.a.createElement("dl",{className:"mb-1"},r.a.createElement("dt",{className:"mb-1"},"Developers"),r.a.createElement("dd",null,r.a.createElement("nav",{className:"nav flex-column small"},r.a.createElement("a",{href:"https://github.com/windingtree/orgid-explorer",className:"nav-link px-0 text-white text--alpha-inverse"},"Source code"),r.a.createElement("a",{href:"https://github.com/windingtree",className:"nav-link px-0 text-white text--alpha-inverse"},"GitHub"),r.a.createElement("a",{href:"https://groups.google.com/forum/#!forum/windingtree",className:"nav-link px-0 text-white text--alpha-inverse"},"Google Group"))))))},D=function(e){var t=e.value,a=e.onChange,n=e.onClick;return r.a.createElement(N.Container,{className:"mb-1"},r.a.createElement(N.Form,null,r.a.createElement(N.Row,null,r.a.createElement(N.Col,null,r.a.createElement(N.Form.Control,{placeholder:"ORG.ID Address",type:"text",onChange:a,value:t})),r.a.createElement(N.Col,{md:1,className:"mr-1"},r.a.createElement(b.LinkContainer,{to:"/orgid/".concat(t)},r.a.createElement(N.Button,{variant:"primary",onClick:n},"GO"))))))},w=a(132),O=a.n(w),j=["HOTELS","AIRLINES","OTAs"],I=(a(429),function(e){function t(){return Object(p.a)(this,t),Object(g.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props,t=e.startDate,a=e.endDate,n=e.onStartDateChange,c=e.onEndDateChange,o=e.onDirectoryChange,l=e.selectedDirectory,i=e.onApply,s=e.onLocationChange;return r.a.createElement(N.Container,{className:"mt-1"},r.a.createElement(N.Form,null,r.a.createElement(N.Row,null,r.a.createElement(N.Col,{md:2,className:"align-self-center font-weight-bold"},"List by directory:"),r.a.createElement(N.Col,{md:2,className:"align-self-center"},r.a.createElement(N.Dropdown,{onSelect:o},r.a.createElement(N.Dropdown.Toggle,{variant:"light",id:"dropdown-basic"},l),r.a.createElement(N.Dropdown.Menu,null,j.map(function(e){return r.a.createElement(N.Dropdown.Item,{key:e,eventKey:e},e)}))))),r.a.createElement(N.Row,{className:"mt-1"},r.a.createElement(N.Col,{className:"align-self-center font-weight-bold",md:2},"Filter List"),r.a.createElement(N.Col,{md:3,className:"align-self-center"},r.a.createElement(N.Form.Control,{onChange:s,placeholder:"-38.016853,-57.525316",type:"text"})),r.a.createElement(N.Col,{className:"align-self-center text-right"},"Creation date"),r.a.createElement(N.Col,{className:"align-self-center"},r.a.createElement(O.a,{selected:t,onChange:n})),r.a.createElement(N.Col,{className:"align-self-center"},r.a.createElement(O.a,{selected:a,onChange:c})),r.a.createElement(N.Col,{md:2,className:"align-self-center"},r.a.createElement(N.Button,{onClick:i,variant:"dark",block:!0,outlined:!0},"Apply")))))}}]),t}(n.Component)),S=[{display:"ORG.ID",fieldName:"address"},{display:"company",fieldName:"name"},{display:"location",fieldName:"city"},{display:"directory",fieldName:"segments"},{display:"created",fieldName:"dateCreated"}],R=(a(430),a(70)),A=a.n(R),L={API_URI:"https://explorer-cache.myorgid.com"},M=a(445),T=a(443),z=a(441),F=a(444),U=(a(431),a(23)),G=a.n(U),_=a(201),B=a.n(_),H=a(202),V=a.n(H),J=a(203),P=a.n(J),W=new G.a.Icon({iconUrl:V.a,iconRetinaUrl:B.a,shadowUrl:P.a}),K=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(E.a)(t).call(this,e))).state={zoom:e.zoom||16,center:e.center||[0,0]},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props.markers,t=this.state,a=t.zoom,n=t.center;return r.a.createElement(M.a,{center:n,zoom:a,className:"h-100"},r.a.createElement(T.a,{attribution:'\xa9 <a href="https://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.osm.org/{z}/{x}/{y}.png"}),e&&e[0]&&e.map(function(e,t){var a=e.position,n=e.name;return r.a.createElement(z.a,{position:a,icon:W,key:"".concat(a).concat(t)},r.a.createElement(F.a,null,r.a.createElement("div",{className:"map-popup"},r.a.createElement("h4",null,n))))}))}}]),t}(r.a.PureComponent),q=a(204),Q=a.n(q);function X(e,t,a,n){return r.a.createElement(b.LinkContainer,{to:"orgid/".concat(e)},r.a.createElement(N.Button,{variant:"link"},e))}var Y=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(E.a)(t).call(this,e))).onStartDateChange=function(e){a.setState({startDate:e})},a.onEndDateChange=function(e){a.setState({endDate:e})},a.onDirectoryChange=function(e){a.setState({selectedDirectory:e})},a.onSortChange=function(e,t){a.setState({sortName:e,sortOrder:t})},a.onInputChange=function(e){a.setState({inputValue:e.target.value})},a.onLocationChange=function(e){a.setState({location:e.target.value})},a.parseOrgData=function(e){var t=e.address,a=e.name,n=e.city,r=e.segments,c=e.dateCreated;return{address:t,name:a,city:n,segments:r,dateCreated:Object(y.default)(Object(C.default)(c),"yyyy-MM-dd")}},a.parseMarkers=function(e){return e.map(function(e){var t=e.orgJsonContent,a=t.hotel||t.airline,n={};n.name=a.description?a.description.name:a.name;var r=a.location||a.description&&a.description.location;return r&&(n.position=[r.latitude,r.longitude]),n})},a.onApply=function(){var e=Object(u.a)(d.a.mark(function e(t){var n,r,c,o,l,i,s,m,u,p,h,g;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=a.state,r=n.selectedDirectory,c=n.startDate,o=n.endDate,l=n.sortOrder,i=n.sortName,s=n.location,m="",m+="segments=".concat(r.toLocaleLowerCase()),m+=c?"&dateCreatedFrom=".concat(Object(y.default)(c,"yyyy-MM-dd")):"",m+=o?"&dateCreatedTo=".concat(Object(y.default)(o,"yyyy-MM-dd")):"",m+=s?"&location=".concat(s,":200&sortByDistance=").concat(s):"",m+=!s&&l&&i?"&sortingField=".concat("desc"===l?"-":"").concat(i):"",e.prev=8,e.next=11,fetch("".concat(L.API_URI,"/organizations?").concat(m));case 11:return u=e.sent,e.next=14,u.json();case 14:p=e.sent,h=p.items,g=h.map(a.parseOrgData),a.setState({organizationsData:g}),e.next=22;break;case 20:e.prev=20,e.t0=e.catch(8);case 22:case"end":return e.stop()}},e,null,[[8,20]])}));return function(t){return e.apply(this,arguments)}}(),a.state={inputValue:"",startDate:new Date(2019,0,1),endDate:new Date(Date.now()),selectedDirectory:"HOTELS",organizationsData:[],markers:void 0},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=Object(u.a)(d.a.mark(function e(){var t,a,n,r,c;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(L.API_URI,"/organizations"));case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,n=a.items,r=n.map(this.parseOrgData),c=n.map(function(e){var t=e.orgJsonContent,a=t.hotel||t.airline;if(!a)return{invalid:!0};var n={};n.name=a.description?a.description.name:a.name;var r=a&&(a.location||a.description&&a.description.location);return r?(n.position=[r.latitude,r.longitude],n):{invalid:!0}}).filter(function(e){return!e.invalid}),this.setState({organizationsData:r,markers:c}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}},e,this,[[0,13]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.startDate,a=e.endDate,n=e.selectedDirectory,c=e.organizationsData,o=e.inputValue,l=e.markers,i={sortName:this.state.sortName,sortOrder:this.state.sortOrder,onSortChange:this.onSortChange,noDataText:"No data to display"};return r.a.createElement(r.a.Fragment,null,r.a.createElement(k,null),r.a.createElement(A.a,{className:"mt-3"},r.a.createElement("h2",{className:"text-center text-uppercase"},"Org.Id explorer")),r.a.createElement(D,{value:o,onChange:this.onInputChange}),r.a.createElement(I,{startDate:t,endDate:a,selectedDirectory:n,onStartDateChange:this.onStartDateChange,onEndDateChange:this.onEndDateChange,onDirectoryChange:this.onDirectoryChange,onApply:this.onApply,onLocationChange:this.onLocationChange}),r.a.createElement(A.a,{className:"my-1"},r.a.createElement(v.BootstrapTable,{ref:"table",options:i,data:c,version:"4",striped:!0,hover:!0,pagination:!0},r.a.createElement(v.TableHeaderColumn,{dataAlign:"center",isKey:!0,dataFormat:X,width:"470",dataField:"address",key:"address",dataSort:!0},"ORG.ID"),S.map(function(e){var t=e.display,a=e.fieldName;return"address"===a?null:r.a.createElement(v.TableHeaderColumn,{dataAlign:"center",dataField:a,key:a,dataSort:!0},t)}))),r.a.createElement(A.a,{className:"my-1 min-vh-100 ".concat(Q.a["fixedh-300"])},r.a.createElement(K,{markers:l,zoom:2,center:[0,0]})),r.a.createElement(x,null))}}]),t}(n.Component),Z=a(442),$=function(e){var t=e.id;return r.a.createElement("div",{className:"align-self-center text-center"},r.a.createElement("h3",null,"ORG.ID ",t," not found"),r.a.createElement("h4",null,"IF you just cretead an new ORG.ID, have in mind that scraping task is scheduled at 2am and 2pm GMT."))},ee=function(e){var t=e.directory,a=e.id,n=e.created,c=e.updated;if(!n)return r.a.createElement($,{id:a});var o=new Date;return r.a.createElement("div",{className:"align-self-center text-center"},r.a.createElement("h3",null,"ORG.ID in ",t," directory"),r.a.createElement("h2",null,a),r.a.createElement("p",null,"Created ",Object(Z.a)(new Date(n),o)," ago, updated ",Object(Z.a)(new Date(c),o)," ago"))},te=function(e){var t=e.url;return t?r.a.createElement("a",{href:"".concat(t),className:"btn-link",target:"_blank",rel:"noopener noreferrer"},t):r.a.createElement("p",null,"Website not provided")},ae=function(e){var t=e.orgData,a=e.name,n=t.address,c=t.city,o=t.countryCode,l=t.website,i=t.description;return i?r.a.createElement(N.Container,{className:"my-1"},r.a.createElement("h2",null,i.name),r.a.createElement("p",null,i.address.line1," ",i.address.line2),r.a.createElement("p",null," ",i.address.city," ",i.address.state," ",i.address.countryCode),r.a.createElement(te,{url:"".concat(l)})):r.a.createElement(N.Container,{className:"my-1"},r.a.createElement("h2",null,a),n||c||o?r.a.createElement("p",null,n," ",c," ",o):r.a.createElement("p",null,"Address not provided"),r.a.createElement(te,{url:l}))},ne=a(206),re=function(e){var t=e.name,a=e.address,n=a.city,c=a.countryCode,o=a.houseNumber,l=a.road,i=a.environment,s=e.contact,m=e.id;return r.a.createElement(N.Container,null,r.a.createElement("h2",null,"Owner:"),r.a.createElement("p",null,t),r.a.createElement("p",null,l," ",o," ",n," ",c),m?r.a.createElement("a",{href:"https://".concat("mainnet"===i?"":"ropsten.","etherscan.io/address/").concat(m),className:"btn-link",target:"_blank",rel:"noopener noreferrer"},m):null,Object.entries(s).map(function(e){var t=Object(ne.a)(e,2),a=t[0],n=t[1];return r.a.createElement("p",{key:a},a,": ",n)}))},ce=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(E.a)(t).call(this,e))).parseMarker=function(e){var t={};if(!e)return null;var a=e&&(e.location||e.description&&e.description.location);return a?(a&&(t.position=[a.latitude,a.longitude]),t.name=e.description?e.description.name:e.name,t):null},a.onInputChange=function(e){a.setState({inputValue:e.target.value})},a.onInputClick=Object(u.a)(d.a.mark(function e(){var t,n,r,c,o,l,i,s,m,u,p,h,g,E,f;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state.inputValue,e.prev=1,e.next=4,fetch("".concat(L.API_URI,"/organizations/").concat(t));case 4:if(404!==(n=e.sent).status){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,n.json();case 9:r=e.sent,c=r.segments,o=r.dateCreated,l=r.dateUpdated,i=r.orgJsonContent,s=r.owner,m=r.name,u=r.environment,p=i.hotel,h=i.legalEntity,g=i.airline,E=p||g,f=a.parseMarker(E),a.setState({markers:[f],environment:u,segments:c,dateCreated:o,dateUpdated:l,orgData:E,legalEntity:h,owner:s,name:m}),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),console.log(e.t0);case 20:case"end":return e.stop()}},e,null,[[1,17]])})),a.state={inputValue:""},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=Object(u.a)(d.a.mark(function e(){var t,a,n,r,c,o,l,i,s,m,u,p,h,g,E;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.id,e.prev=1,e.next=4,fetch("".concat(L.API_URI,"/organizations/").concat(t));case 4:if(404!==(a=e.sent).status){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,a.json();case 9:n=e.sent,r=n.segments,c=n.dateCreated,o=n.dateUpdated,l=n.orgJsonContent,i=n.owner,s=n.name,m=n.environment,u=l.hotel,p=l.legalEntity,h=l.airline,g=u||h,E=this.parseMarker(g),this.setState({markers:[E],environment:m,segments:r,dateCreated:c,dateUpdated:o,orgData:g,legalEntity:p,owner:i,name:s}),e.next=19;break;case 17:e.prev=17,e.t0=e.catch(1);case 19:case"end":return e.stop()}},e,this,[[1,17]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.orgData,a=e.legalEntity,n=e.segments,c=e.dateCreated,o=e.dateUpdated,l=e.inputValue,i=e.owner,s=e.name,m=e.environment,d=e.markers,u=this.props.match.params.id;return r.a.createElement(r.a.Fragment,null,r.a.createElement(k,null),r.a.createElement(N.Container,{className:"mt-3"},r.a.createElement("h2",{className:"text-center text-uppercase"},"Org.Id explorer")),r.a.createElement(D,{value:l,onChange:this.onInputChange,onClick:this.onInputClick}),r.a.createElement(N.Container,{className:"my-1"},r.a.createElement(N.Row,{className:"align-self-center"},r.a.createElement(N.Col,{className:"align-self-center"},r.a.createElement(ee,{directory:n,id:u,created:c,updated:o}))),c?r.a.createElement(N.Row,{className:"my-1"},r.a.createElement(N.Col,{md:6,sm:12},t?r.a.createElement(ae,{orgData:t,name:s}):null,a?r.a.createElement(re,{name:a.name,address:a.address,city:a.city,countryCode:a.countryCode,contact:a.contact,id:i,environment:m}):null),r.a.createElement(N.Col,{md:6,sm:12},r.a.createElement(K,{markers:d,center:d[0]?d[0].position:[0,0]}))):null),r.a.createElement(x,null))}}]),t}(n.Component),oe=function(){return r.a.createElement("main",{id:"app-content",className:"content-error bg-grad-up",style:{height:"100vh"}},r.a.createElement("article",{className:"app-section d-flex align-items-center"},r.a.createElement(N.Container,null,r.a.createElement("div",{className:"py-1 py-md-5 text-center"},r.a.createElement("h1",{className:"mb-1 text-white"},"Oops... 404"),r.a.createElement("p",{className:"mb-2 lead text-white"},"That is not the page you are looking for."),r.a.createElement(b.LinkContainer,{to:"/"},r.a.createElement(N.Button,{variant:"primary"},"Go to main"))))))},le=function(){return r.a.createElement(s.g,null,r.a.createElement(s.d,{path:["/orgid/:id"],component:ce}),r.a.createElement(s.c,{exact:!0,from:"/orgid",to:"/"}),r.a.createElement(s.d,{path:"/",exact:!0,component:Y}),r.a.createElement(s.d,{component:oe}))};a(432),a(433);!function(e){o.a.render;(0,o.a.hydrate)(r.a.createElement(i.AppContainer,null,r.a.createElement(l.BrowserRouter,null,r.a.createElement(e,null))),document.getElementById("root"))}(le,document.getElementById("root"))}},[[208,1,2]]]);
//# sourceMappingURL=main.94d458da.chunk.js.map