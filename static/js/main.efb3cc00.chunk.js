(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{207:function(e,t,a){e.exports=a(435)},432:function(e,t,a){},435:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(13),c=a.n(l),o=a(64),s=a(204),i=a(50),m=a(51),d=a.n(m),u=a(68),p=a(44),h=a(45),g=a(48),E=a(46),f=a(49),v=a(96),y=a(437),b=a(426),C=a(47),D=a(11),N=function(){return r.a.createElement("div",{id:"app-header"},r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light",id:"navbar"},r.a.createElement("div",{className:"container"},r.a.createElement("a",{className:"navbar-brand mr-2",href:"https://windingtree.com/"},"Winding Tree"),r.a.createElement("a",{href:"https://windingtree.com/",className:"btn-link",target:"_blank",rel:"noopener noreferrer"},"Winding Tree website"),r.a.createElement("a",{href:"https://developers.windingtree.com/overview.html#orgid",className:"btn-link",target:"_blank",rel:"noopener noreferrer"},"About ORG.  ID"),r.a.createElement(C.LinkContainer,{to:"".concat("/orgid-explorer","/")},r.a.createElement("a",{className:"nav-link"},"List")))))},x=function(){return r.a.createElement(D.Footer,{copyrightHref:"https://windingtree.com",copyrightText:"Winding Tree"},r.a.createElement("div",{className:"col-6 col-md-3"},r.a.createElement("dl",{className:"mb-1"},r.a.createElement("dt",{className:"mb-1"},"About"),r.a.createElement("dd",null,r.a.createElement("nav",{className:"nav flex-column small"},r.a.createElement("a",{href:"https://windingtree.com",className:"nav-link px-0 text-white text--alpha-inverse"},"Homepage"),r.a.createElement("a",{href:"https://blog.windingtree.com/",className:"nav-link px-0 text-white text--alpha-inverse"},"Blog"),r.a.createElement("a",{href:"https://developers.windingtree.com",className:"nav-link px-0 text-white text--alpha-inverse"},"Developer portal"))))),r.a.createElement("div",{className:"col-6 col-md-3"},r.a.createElement("dl",{className:"mb-1"},r.a.createElement("dt",{className:"mb-1"},"Developers"),r.a.createElement("dd",null,r.a.createElement("nav",{className:"nav flex-column small"},r.a.createElement("a",{href:"https://github.com/windingtree/orgid-explorer",className:"nav-link px-0 text-white text--alpha-inverse"},"Source code"),r.a.createElement("a",{href:"https://github.com/windingtree",className:"nav-link px-0 text-white text--alpha-inverse"},"GitHub"),r.a.createElement("a",{href:"https://groups.google.com/forum/#!forum/windingtree",className:"nav-link px-0 text-white text--alpha-inverse"},"Google Group"))))))},w=function(e){var t=e.value,a=e.onChange;return r.a.createElement(D.Container,{className:"mb-1"},r.a.createElement(D.Form,null,r.a.createElement(D.Row,null,r.a.createElement(D.Col,null,r.a.createElement(D.Form.Control,{placeholder:"ORG.ID Address",type:"text",onChange:a,value:t})),r.a.createElement(D.Col,{md:1,className:"mr-1"},r.a.createElement(C.LinkContainer,{to:"orgid/".concat(t)},r.a.createElement(D.Button,{variant:"primary"},"GO"))))))},O=a(132),k=a.n(O),j=["HOTELS","AIRLINES","OTAs"],I=(a(428),function(e){function t(){return Object(p.a)(this,t),Object(g.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props,t=e.startDate,a=e.endDate,n=e.onStartDateChange,l=e.onEndDateChange,c=e.onDirectoryChange,o=e.selectedDirectory,s=e.onApply,i=e.onLocationChange;return r.a.createElement(D.Container,{className:"mt-1"},r.a.createElement(D.Form,null,r.a.createElement(D.Row,null,r.a.createElement(D.Col,{md:2,className:"align-self-center font-weight-bold"},"List by directory:"),r.a.createElement(D.Col,{md:2,className:"align-self-center"},r.a.createElement(D.Dropdown,{onSelect:c},r.a.createElement(D.Dropdown.Toggle,{variant:"light",id:"dropdown-basic"},o),r.a.createElement(D.Dropdown.Menu,null,j.map(function(e){return r.a.createElement(D.Dropdown.Item,{key:e,eventKey:e},e)}))))),r.a.createElement(D.Row,{className:"mt-1"},r.a.createElement(D.Col,{className:"align-self-center font-weight-bold",md:2},"Filter List"),r.a.createElement(D.Col,{md:3,className:"align-self-center"},r.a.createElement(D.Form.Control,{onChange:i,placeholder:"-38.016853,-57.525316",type:"text"})),r.a.createElement(D.Col,{className:"align-self-center text-right"},"Creation date"),r.a.createElement(D.Col,{className:"align-self-center"},r.a.createElement(k.a,{selected:t,onChange:n})),r.a.createElement(D.Col,{className:"align-self-center"},r.a.createElement(k.a,{selected:a,onChange:l})),r.a.createElement(D.Col,{md:2,className:"align-self-center"},r.a.createElement(D.Button,{onClick:s,variant:"dark",block:!0,outlined:!0},"Apply")))))}}]),t}(n.Component)),S=[{display:"ORG.ID",fieldName:"address"},{display:"company",fieldName:"name"},{display:"location",fieldName:"city"},{display:"directory",fieldName:"segments"},{display:"created",fieldName:"dateCreated"}],A=(a(429),a(82)),R=a.n(A),L={API_URI:"https://explorer-cache.myorgid.com",publicUrl:"/orgid-explorer"};function T(e,t,a,n){return r.a.createElement(C.LinkContainer,{to:"orgid/".concat(e)},r.a.createElement(D.Button,{variant:"link"},e))}var F=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(E.a)(t).call(this,e))).onStartDateChange=function(e){a.setState({startDate:e})},a.onEndDateChange=function(e){a.setState({endDate:e})},a.onDirectoryChange=function(e){a.setState({selectedDirectory:e})},a.onSortChange=function(e,t){a.setState({sortName:e,sortOrder:t})},a.onInputChange=function(e){a.setState({inputValue:e.target.value})},a.onLocationChange=function(e){a.setState({location:e.target.value})},a.parseOrgData=function(e){var t=e.address,a=e.name,n=e.city,r=e.segments,l=e.dateCreated;return{address:t,name:a,city:n,segments:r,dateCreated:Object(y.default)(Object(b.default)(l),"yyyy-MM-dd")}},a.onApply=function(){var e=Object(u.a)(d.a.mark(function e(t){var n,r,l,c,o,s,i,m,u,p,h,g;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=a.state,r=n.selectedDirectory,l=n.startDate,c=n.endDate,o=n.sortOrder,s=n.sortName,i=n.location,m="",m+="segments=".concat(r.toLocaleLowerCase()),m+=l?"&dateCreatedFrom=".concat(Object(y.default)(l,"yyyy-MM-dd")):"",m+=c?"&dateCreatedTo=".concat(Object(y.default)(c,"yyyy-MM-dd")):"",m+=i?"&location=".concat(i,":200&sortByDistance=").concat(i):"",m+=!i&&o&&s?"&sortingField=".concat("desc"===o?"-":"").concat(s):"",e.prev=8,e.next=11,fetch("".concat(L.API_URI,"/organizations?").concat(m));case 11:return u=e.sent,e.next=14,u.json();case 14:p=e.sent,h=p.items,g=h.map(a.parseOrgData),a.setState({organizationsData:g}),e.next=22;break;case 20:e.prev=20,e.t0=e.catch(8);case 22:case"end":return e.stop()}},e,null,[[8,20]])}));return function(t){return e.apply(this,arguments)}}(),a.state={inputValue:"",startDate:new Date(2019,0,1),endDate:new Date(Date.now()),selectedDirectory:"HOTELS",organizationsData:[]},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=Object(u.a)(d.a.mark(function e(){var t,a,n,r;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(L.API_URI,"/organizations"));case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,n=a.items,r=n.map(this.parseOrgData),this.setState({organizationsData:r}),e.next=14;break;case 12:e.prev=12,e.t0=e.catch(0);case 14:case"end":return e.stop()}},e,this,[[0,12]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.startDate,a=e.endDate,n=e.selectedDirectory,l=e.organizationsData,c=e.inputValue,o={sortName:this.state.sortName,sortOrder:this.state.sortOrder,onSortChange:this.onSortChange,noDataText:"No data to display"};return r.a.createElement(r.a.Fragment,null,r.a.createElement(N,null),r.a.createElement(R.a,{className:"mt-3"},r.a.createElement("h2",{className:"text-center text-uppercase"},"Org.Id explorer")),r.a.createElement(w,{value:c,onChange:this.onInputChange}),r.a.createElement(I,{startDate:t,endDate:a,selectedDirectory:n,onStartDateChange:this.onStartDateChange,onEndDateChange:this.onEndDateChange,onDirectoryChange:this.onDirectoryChange,onApply:this.onApply,onLocationChange:this.onLocationChange}),r.a.createElement(R.a,{className:"my-1"},r.a.createElement(v.BootstrapTable,{ref:"table",options:o,data:l,version:"4",striped:!0,hover:!0,pagination:!0},r.a.createElement(v.TableHeaderColumn,{dataAlign:"center",isKey:!0,dataFormat:T,width:"470",dataField:"address",key:"address",dataSort:!0},"ORG.ID"),S.map(function(e){var t=e.display,a=e.fieldName;return"address"===a?null:r.a.createElement(v.TableHeaderColumn,{dataAlign:"center",dataField:a,key:a,dataSort:!0},t)}))),r.a.createElement(x,null))}}]),t}(n.Component),G=a(444),U=a(442),z=a(440),M=a(443),B=(a(430),a(22)),_=a.n(B),H=a(201),V=a.n(H),P=a(202),W=a.n(P),J=a(203),K=a.n(J),q=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(g.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={zoom:16},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props,t=e.orgData,a=e.location,n=void 0===a?{latitude:0,longitude:0}:a,l=this.state.zoom,c=[n.latitude,n.longitude],o="Address not provided";return t&&(o=t.description?t.description.name:t.name),delete _.a.Icon.Default.prototype._getIconUrl,_.a.Icon.Default.mergeOptions({iconRetinaUrl:V.a,iconUrl:W.a,shadowUrl:K.a}),r.a.createElement(D.Container,{className:"h-100"},r.a.createElement(G.a,{center:c,zoom:l,className:"h-100"},r.a.createElement(U.a,{attribution:'\xa9 <a href="https://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.osm.org/{z}/{x}/{y}.png"}),r.a.createElement(z.a,{position:c},r.a.createElement(M.a,null,r.a.createElement("div",{className:"map-popup"},r.a.createElement("h4",null,o))))))}}]),t}(r.a.PureComponent),Q=a(441),X=function(e){var t=e.id;return r.a.createElement("div",{className:"align-self-center text-center"},r.a.createElement("h3",null,"ORG.ID ",t," not found"),r.a.createElement("h4",null,"IF you just cretead an new ORG.ID, have in mind that scraping task is scheduled at 2am and 2pm GMT."))},Y=function(e){var t=e.directory,a=e.id,n=e.created,l=e.updated;if(!n)return r.a.createElement(X,{id:a});var c=new Date;return r.a.createElement("div",{className:"align-self-center text-center"},r.a.createElement("h3",null,"ORG.ID in ",t," directory"),r.a.createElement("h2",null,a),r.a.createElement("p",null,"Created ",Object(Q.a)(new Date(n),c)," ago, updated ",Object(Q.a)(new Date(l),c)," ago"))},Z=function(e){var t=e.url;return t?r.a.createElement("a",{href:"".concat(t),className:"btn-link",target:"_blank",rel:"noopener noreferrer"},t):r.a.createElement("p",null,"Website not provided")},$=function(e){var t=e.orgData,a=e.name,n=t.address,l=t.city,c=t.countryCode,o=t.website,s=t.description;return s?r.a.createElement(D.Container,{className:"my-1"},r.a.createElement("h2",null,s.name),r.a.createElement("p",null,s.address.line1," ",s.address.line2),r.a.createElement("p",null," ",s.address.city," ",s.address.state," ",s.address.countryCode),r.a.createElement(Z,{url:"".concat(o)})):r.a.createElement(D.Container,{className:"my-1"},r.a.createElement("h2",null,a),n||l||c?r.a.createElement("p",null,n," ",l," ",c):r.a.createElement("p",null,"Address not provided"),r.a.createElement(Z,{url:o}))},ee=a(205),te=function(e){var t=e.name,a=e.address,n=a.city,l=a.countryCode,c=a.houseNumber,o=a.road,s=a.environment,i=e.contact,m=e.id;return r.a.createElement(D.Container,null,r.a.createElement("h2",null,"Owner:"),r.a.createElement("p",null,t),r.a.createElement("p",null,o," ",c," ",n," ",l),m?r.a.createElement("a",{href:"https://".concat("mainnet"===s?"":"ropsten.","etherscan.io/address/").concat(m),className:"btn-link",target:"_blank",rel:"noopener noreferrer"},m):null,Object.entries(i).map(function(e){var t=Object(ee.a)(e,2),a=t[0],n=t[1];return r.a.createElement("p",{key:a},a,": ",n)}))},ae=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(E.a)(t).call(this,e))).onInputChange=function(e){a.setState({inputValue:e.target.value})},a.state={inputValue:""},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=Object(u.a)(d.a.mark(function e(){var t,a,n,r,l,c,o,s,i,m,u,p,h,g,E;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.id,e.prev=1,e.next=4,fetch("".concat(L.API_URI,"/organizations/").concat(t));case 4:if(404!==(a=e.sent).status){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,a.json();case 9:n=e.sent,r=n.segments,l=n.dateCreated,c=n.dateUpdated,o=n.orgJsonContent,s=n.owner,i=n.name,m=n.environment,u=o.hotel,p=o.legalEntity,h=o.airline,E=(g=u||h)&&(g.location||g.description&&g.description.location),this.setState({environment:m,segments:r,dateCreated:l,dateUpdated:c,orgData:g,legalEntity:p,owner:s,name:i,location:E}),e.next=19;break;case 17:e.prev=17,e.t0=e.catch(1);case 19:case"end":return e.stop()}},e,this,[[1,17]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.orgData,a=e.legalEntity,n=e.segments,l=e.dateCreated,c=e.dateUpdated,o=e.inputValue,s=e.owner,i=e.name,m=e.location,d=e.environment,u=this.props.match.params.id;return r.a.createElement(r.a.Fragment,null,r.a.createElement(N,null),r.a.createElement(D.Container,{className:"mt-3"},r.a.createElement("h2",{className:"text-center text-uppercase"},"Org.Id explorer")),r.a.createElement(w,{value:o,onChange:this.onInputChange}),r.a.createElement(D.Container,{className:"my-1"},r.a.createElement(D.Row,{className:"align-self-center"},r.a.createElement(D.Col,{className:"align-self-center"},r.a.createElement(Y,{directory:n,id:u,created:l,updated:c}))),l?r.a.createElement(D.Row,{className:"my-1"},r.a.createElement(D.Col,{md:6,sm:12},t?r.a.createElement($,{orgData:t,name:i}):null,a?r.a.createElement(te,{name:a.name,address:a.address,city:a.city,countryCode:a.countryCode,contact:a.contact,id:s,environment:d}):null),r.a.createElement(D.Col,{md:6,sm:12},r.a.createElement(q,{orgData:t,location:m}))):null),r.a.createElement(x,null))}}]),t}(n.Component),ne=function(){return r.a.createElement("main",{id:"app-content",className:"content-error bg-grad-up",style:{height:"100vh"}},r.a.createElement("article",{className:"app-section d-flex align-items-center"},r.a.createElement(D.Container,null,r.a.createElement("div",{className:"py-1 py-md-5 text-center"},r.a.createElement("h1",{className:"mb-1 text-white"},"Oops... 404"),r.a.createElement("p",{className:"mb-2 lead text-white"},"That is not the page you are looking for."),r.a.createElement(C.LinkContainer,{to:"".concat("/orgid-explorer","/")},r.a.createElement(D.Button,{variant:"primary"},"Go to main"))))))},re=function(){return r.a.createElement(i.g,null,r.a.createElement(i.d,{path:["".concat("/orgid-explorer","/orgid/:id")],exact:!0,component:ae}),r.a.createElement(i.c,{exact:!0,from:"".concat("/orgid-explorer","/orgid"),to:"/"}),r.a.createElement(i.d,{path:"".concat("/orgid-explorer","/"),exact:!0,component:F}),r.a.createElement(i.d,{component:ne}))};a(431),a(432);!function(e){c.a.render;(0,c.a.hydrate)(r.a.createElement(s.AppContainer,null,r.a.createElement(o.BrowserRouter,{basename:L.publicUrl},r.a.createElement(e,null))),document.getElementById("root"))}(re,document.getElementById("root"))}},[[207,1,2]]]);
//# sourceMappingURL=main.efb3cc00.chunk.js.map